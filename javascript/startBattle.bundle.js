(()=>{"use strict";var t,e,l={412:(t,e,l)=>{l.d(e,{J5:()=>i,VL:()=>n,lO:()=>s});const s=t=>{const e=t;let l=0,s=[0,0],n=[0,t-1];return{getStartCoord:()=>s,getEndCoord:()=>n,getLength:()=>e,getHits:()=>l,hit:()=>{l+=1},isSunk:()=>l===e,setCoord:(t,l,i)=>(s[0]=t,s[1]=l,"horizontal"===i?(n[0]=t+e-1,n[1]=l):(n[0]=t,n[1]=l+e-1),[s,n])}},n=()=>{let t=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],e=[];const l=(l,c,o,d)=>{l.setCoord(c,o,d);const r=l.getStartCoord()[0],u=l.getStartCoord()[1],p=l.getEndCoord()[0],h=l.getEndCoord()[1];let m,C;const L=n(r,p,u,h),v=s();if(i(L,v)&&a(L,v,d)){if(C=e.push(l)-1,"horizontal"===d)for(m=r;m<=p;m++)t[u][m]=`${C}-${m-r}`;else if("vertical"===d)for(m=u;m<=h;m++)t[m][r]=`${C}-${m-u}`;return t}return!1},s=()=>{let e=[],l=0;for(let s=0;s<10;s++)for(let n=0;n<10;n++)l++,null!==t[s][n]&&e.push(l);return e},n=(t,e,l,s)=>{let n=[];if(t===e)for(let e=l;e<=s;e++)n.push(10*e+t+1);else if(l===s)for(let s=t;s<=e;s++)n.push(10*l+s+1);return n},i=(t,e)=>!e.some((e=>t.indexOf(e)>=0)),a=(t,e,l)=>{let s=[];return t.forEach(((e,n)=>{"vertical"===l?(e%10!=0&&s.push(e+0+1),(e-1)%10!=0&&s.push(e+0-1),0===n?(s.push(e-10+0),e%10!=0&&s.push(e-10+1),(e-1)%10!=0&&s.push(e-10-1)):n===t.length-1&&(s.push(e+10+0),e%10!=0&&s.push(e+10+1),(e-1)%10!=0&&s.push(e+10-1))):"horizontal"===l&&(s.push(e+10+0),s.push(e-10+0),0===n?(e-1)%10!=0&&(s.push(e+0-1),s.push(e+10-1),s.push(e-10-1)):n===t.length-1&&e%10!=0&&(s.push(e+0+1),s.push(e+10+1),s.push(e-10+1)))})),!e.some((t=>s.indexOf(t)>=0))},c=t=>{let e;e=0===Math.round(Math.random())?"vertical":"horizontal";let s=Math.floor(10*Math.random())+0,n=Math.floor(10*Math.random())+0;if("vertical"===e)for(;n+t.getLength()>9;)n=Math.floor(10*Math.random())+0;else if("horizontal"===e)for(;s+t.getLength()>9;)s=Math.floor(10*Math.random())+0;const i=l(t,s,n,e);return!1===i&&c(t),i};return{ships:e,board:t,addShip:l,receiveAttack:(l,s)=>{if(null===t[s][l])return t[s][l]="miss",{xAttack:l,yAttack:s,result:t[s][l]};if(null!==t[s][l]&&"miss"!==t[s][l]&&"hit"!==t[s][l]){const n=t[s][l].split("-")[0];return t[s][l]="hit",e[n].hit(),{xAttack:l,yAttack:s,result:"hit"}}return{xAttack:l,yAttack:s,result:"invalid"}},allShipsSunk:()=>{for(let t=0;t<e.length;t++)if(!e[t].isSunk())return!1;return!0},getShipSpaces:s,addShipRandomly:c}},i=()=>{const t=(e,l,s,n=!1)=>{let i=l,a=s;!0===n&&(i=Math.floor(10*Math.random())+0,a=Math.floor(10*Math.random())+0);let c=e.receiveAttack(i,a);return"invalid"===c.result&&(c=t(e,l,s,n)),c};return{attack:t}}},181:(t,e,l)=>{l.d(e,{L:()=>n});var s=l(412);const n=()=>{const t=document.querySelector("body");for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);const e=(0,s.J5)(),l=(0,s.J5)();l.computer=!0;const n=(0,s.VL)(),i=(0,s.VL)(),a=[5,4,3,3,2];a.forEach(((t,e)=>{n.addShipRandomly((0,s.lO)(t)),i.addShipRandomly((0,s.lO)(t))}));const c=document.createElement("div");c.classList="player1 board grey";const o=document.createElement("div");o.classList="player1 spaces",n.board.forEach(((t,e)=>{t.forEach(((t,l)=>{const s=document.createElement("div");if(s.setAttribute("id","P1-"+e+"-"+l),null===t)s.textContent="",s.classList="space";else if(t.includes("-")){const e=t.split("-")[0],l=t.split("-")[1];s.setAttribute("id",e+"-"+l),s.textContent=e,s.classList="space"}else"miss"===t?(s.textContent="X",s.classList="space miss"):(s.textContent="O",s.classList="space hit");o.appendChild(s)}))}));const d=document.createElement("h3");d.textContent="You",c.appendChild(d),c.appendChild(o);const r=document.createElement("div");r.classList="player2 board";const u=document.createElement("div");u.classList="player2 spaces",i.board.forEach(((s,a)=>{s.forEach(((s,o)=>{const d=document.createElement("div");d.classList="space enemy",d.setAttribute("id",o),d.addEventListener("click",(()=>{const u=e.attack(i,o,a);if("miss"===u.result)d.textContent="X",d.classList="space hit";else if("hit"===u.result){d.textContent="O",d.classList="space hit";const t=s.split("-")[0];i.ships[t].isSunk()&&document.querySelector(`#ship-2-${t}`).classList.toggle("filled")}else"invalid"===u.result&&alert("Move Invalid");r.classList.toggle("grey"),c.classList.toggle("grey"),setTimeout((()=>{if(setTimeout((()=>{r.classList.toggle("grey"),c.classList.toggle("grey")}),1e3),i.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 1 wins!"}const e=l.attack(n,0,0,!0),s=10*e.yAttack+e.xAttack,a=document.querySelectorAll(".player1.spaces > .space")[s];if("miss"===e.result)a.textContent="X",a.classList="space miss";else if("hit"===e.result){a.textContent="O",a.classList="space hit";const t=a.id.split("-")[0];i.ships[t].isSunk()&&document.querySelector(`#ship-1-${t}`).classList.toggle("filled")}else"invalid"===e.result&&alert("Move Invalid");if(n.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}}),2e3)})),u.appendChild(d)}))}));const p=document.createElement("h3");p.textContent="Computer",r.appendChild(p),r.appendChild(u);const h=document.createElement("div");h.classList="ship-tracker",h.setAttribute("id","one");const m=document.createElement("div");m.classList="ship-tracker",m.setAttribute("id","two"),a.forEach(((t,e)=>{const l=document.createElement("div");l.classList="ship",l.setAttribute("id","ship-1-"+e);const s=document.createElement("div");s.classList="ship",s.setAttribute("id","ship-2-"+e);for(let e=0;e<t;e++){const t=document.createElement("div");t.classList="space";const e=document.createElement("div");e.classList="space",l.appendChild(t),s.appendChild(e)}h.appendChild(l),m.appendChild(s)}));const C=document.createElement("div");C.classList="gameboard-one";const L=document.createElement("div");L.classList="gameboard-two";const v=document.createElement("div");v.classList="gameboards",C.appendChild(h),C.appendChild(c),L.appendChild(r),L.appendChild(m),v.appendChild(C),v.appendChild(L),t.appendChild(v)}}},s={};function n(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={exports:{}};return l[t](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var l in e)n.o(e,l)&&!n.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t=n(181),e=n(412),document.querySelector("#start.computer").addEventListener("click",(()=>{(0,t.L)()})),document.querySelector("#start.friend").addEventListener("click",(()=>{(()=>{const t=document.querySelector("body");for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);const l=(0,e.J5)(),s=(0,e.J5)();s.computer=!0;const n=(0,e.VL)(),i=(0,e.VL)(),a=[5,4,3,3,2];a.forEach(((t,l)=>{n.addShipRandomly((0,e.lO)(t)),i.addShipRandomly((0,e.lO)(t))}));const c=document.createElement("div");c.classList="next-turn invisible",c.textContent="CHANGE TURN",c.addEventListener("click",(()=>{if(c.classList.toggle("invisible"),"1"===c.id?(o.classList.toggle("no-events"),o.classList.toggle("enemy"),u.classList.toggle("invisible")):"2"===c.id&&(u.classList.toggle("no-events"),u.classList.toggle("enemy"),o.classList.toggle("invisible")),n.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}if(i.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}}));const o=document.createElement("div");o.classList="player1 board invisible no-events";const d=document.createElement("div");d.classList="player1 spaces",n.board.forEach(((t,e)=>{t.forEach(((t,l)=>{const i=document.createElement("div");i.classList="space",null===t?(i.textContent="",i.classList="space"):t.includes("-")&&(i.textContent=t.split("-")[0],i.setAttribute("id",t.split("-")[0]+"-"+t.split("-")[1]),i.classList="space shipSpace"),i.addEventListener("click",(()=>{c.setAttribute("id","2"),c.classList.toggle("invisible"),u.classList.toggle("invisible"),o.classList.toggle("no-events"),o.classList.toggle("enemy");const t=s.attack(n,l,e);if("miss"===t.result)i.textContent="X",i.classList="space hit";else if("hit"===t.result){i.textContent="O",i.classList="space hit";const t=i.id.split("-")[0];n.ships[t].isSunk()&&document.querySelector(`#ship-1-${t}`).classList.toggle("filled")}else"invalid"===t.result&&alert("Move Invalid")})),d.appendChild(i)}))}));const r=document.createElement("h3");r.textContent="Player 1",o.appendChild(r),o.appendChild(d);const u=document.createElement("div");u.classList="player2 board enemy";const p=document.createElement("div");p.classList="player2 spaces",i.board.forEach(((t,e)=>{t.forEach(((t,s)=>{const n=document.createElement("div");n.classList="space",null===t?(n.textContent="",n.classList="space"):t.includes("-")&&(n.textContent=t.split("-")[0],n.setAttribute("id",t.split("-")[0]+"-"+t.split("-")[1]),n.classList="space shipSpace"),n.addEventListener("click",(()=>{c.setAttribute("id","1"),c.classList.toggle("invisible"),o.classList.toggle("invisible"),u.classList.toggle("no-events"),u.classList.toggle("enemy");const t=l.attack(i,s,e);if("miss"===t.result)n.textContent="X",n.classList="space hit";else if("hit"===t.result){n.textContent="O",n.classList="space hit";const t=n.id.split("-")[0];i.ships[t].isSunk()&&document.querySelector(`#ship-2-${t}`).classList.toggle("filled")}else"invalid"===t.result&&alert("Move Invalid")})),p.appendChild(n)}))}));const h=document.createElement("h3");h.textContent="Player 2",u.appendChild(h),u.appendChild(p);const m=document.createElement("div");m.classList="ship-tracker",m.setAttribute("id","one");const C=document.createElement("div");C.classList="ship-tracker",C.setAttribute("id","two"),a.forEach(((t,e)=>{const l=document.createElement("div");l.classList="ship",l.setAttribute("id","ship-1-"+e);const s=document.createElement("div");s.classList="ship",s.setAttribute("id","ship-2-"+e);for(let e=0;e<t;e++){const t=document.createElement("div");t.classList="space";const e=document.createElement("div");e.classList="space",l.appendChild(t),s.appendChild(e)}m.appendChild(l),C.appendChild(s)}));const L=document.createElement("div");L.classList="gameboard-one";const v=document.createElement("div");v.classList="gameboard-two";const g=document.createElement("div");g.classList="gameboards",L.appendChild(m),L.appendChild(o),v.appendChild(u),v.appendChild(C),g.appendChild(L),g.appendChild(v),t.appendChild(c),t.appendChild(g)})()}))})();