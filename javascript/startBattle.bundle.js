(()=>{"use strict";var l,t={412:(l,t,n)=>{n.d(t,{J5:()=>r,VL:()=>u,lO:()=>e});const e=l=>{const t=l;let n=0,e=[0,0],u=[0,l-1];return{getStartCoord:()=>e,getEndCoord:()=>u,getLength:()=>t,getHits:()=>n,hit:()=>{n+=1},isSunk:()=>n===t,setCoord:(l,n,r)=>(e[0]=l,e[1]=n,"horizontal"===r?(u[0]=l+t-1,u[1]=n):(u[0]=l,u[1]=n+t-1),[e,u])}},u=()=>{let l=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],t=[];return{ships:t,board:l,addShip:(n,e,u,r)=>{n.setCoord(e,u,r);const s=t.push(n)-1,a=n.getStartCoord()[0],o=n.getStartCoord()[1],i=n.getEndCoord()[0],c=n.getEndCoord()[1];let d;if("horizontal"===r)for(d=a;d<=i;d++)l[o][d]=s;else if("vertical"===r)for(d=o;d<=c;d++)l[d][a]=s;return l},receiveAttack:(n,e)=>{if(null===l[e][n])return l[e][n]="miss",{xAttack:n,yAttack:e,result:l[e][n]};if(null!==l[e][n]&&"miss"!==l[e][n]&&"hit"!==l[e][n]){const u=l[e][n];return l[e][n]="hit",t[u].hit(),{xAttack:n,yAttack:e,result:"hit"}}return{xAttack:n,yAttack:e,result:"invalid"}},allShipsSunk:()=>{for(let l=0;l<t.length;l++)if(!t[l].isSunk())return!1;return!0}}},r=()=>{const l=(t,n,e,u=!1)=>{let r=n,s=e;!0===u&&(r=Math.floor(10*Math.random())+0,s=Math.floor(10*Math.random())+0);let a=t.receiveAttack(r,s);return"invalid"===a.result&&(a=l(t,n,e,u)),a};return{attack:l}}}},n={};function e(l){var u=n[l];if(void 0!==u)return u.exports;var r=n[l]={exports:{}};return t[l](r,r.exports,e),r.exports}e.d=(l,t)=>{for(var n in t)e.o(t,n)&&!e.o(l,n)&&Object.defineProperty(l,n,{enumerable:!0,get:t[n]})},e.o=(l,t)=>Object.prototype.hasOwnProperty.call(l,t),l=e(412),document.getElementById("start").addEventListener("click",(()=>{const t=document.querySelector("body");for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);const n=(0,l.J5)(),e=(0,l.J5)();e.computer=!0;const u=(0,l.VL)(),r=(0,l.VL)();[5,4,3,3,2].forEach(((t,n)=>{u.addShip((0,l.lO)(t),0,n,"horizontal"),r.addShip((0,l.lO)(t),n,0,"vertical")}));const s=document.createElement("div");s.classList="player1 board grey",u.board.forEach(((l,t)=>{l.forEach(((l,n)=>{const e=document.createElement("div");e.setAttribute("id","P1-"+t+"-"+n),null===l?(e.textContent="~",e.classList="space"):l>=0?(e.textContent=l,e.classList="space ship"):"miss"===l?(e.textContent="X",e.classList="space miss"):(e.textContent="O",e.classList="space hit"),s.appendChild(e)}))}));const a=document.createElement("div");a.classList="player2 board",r.board.forEach(((l,t)=>{l.forEach(((l,s)=>{const o=document.createElement("div");o.classList="space enemy",o.setAttribute("id",s),o.addEventListener("click",(()=>{const l=n.attack(r,s,t);"miss"===l.result?(o.textContent="X",o.classList="space hit"):"hit"===l.result?(o.textContent="O",o.classList="space hit"):"invalid"===l.result&&alert("Move Invalid");const a=e.attack(u,0,0,!0),i=document.querySelector(`#P1-${a.yAttack}-${a.xAttack}`);"miss"===a.result?(i.textContent="X",i.classList="space miss"):"hit"===a.result?(i.textContent="O",i.classList="space hit"):"invalid"===a.result&&alert("Move Invalid")})),a.appendChild(o)}))})),t.appendChild(s),t.appendChild(a)}))})();