(()=>{"use strict";var t,l,e={412:(t,l,e)=>{e.d(l,{J5:()=>a,VL:()=>s,lO:()=>n});const n=t=>{const l=t;let e=0,n=[0,0],s=[0,t-1];return{getStartCoord:()=>n,getEndCoord:()=>s,getLength:()=>l,getHits:()=>e,hit:()=>{e+=1},isSunk:()=>e===l,setCoord:(t,e,a)=>(n[0]=t,n[1]=e,"horizontal"===a?(s[0]=t+l-1,s[1]=e):(s[0]=t,s[1]=e+l-1),[n,s])}},s=()=>{let t=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],l=[];const e=(e,i,o,r)=>{e.setCoord(i,o,r);const c=e.getStartCoord()[0],d=e.getStartCoord()[1],u=e.getEndCoord()[0],h=e.getEndCoord()[1];let p,m;const C=s(c,u,d,h),v=n();if(a(C,v)){if(m=l.push(e)-1,"horizontal"===r)for(p=c;p<=u;p++)t[d][p]=m;else if("vertical"===r)for(p=d;p<=h;p++)t[p][c]=m;return t}return!1},n=()=>{let l=[],e=0;for(let n=0;n<10;n++)for(let s=0;s<10;s++)e++,null!==t[n][s]&&l.push(e);return l},s=(t,l,e,n)=>{let s=[];if(t===l)for(let l=e;l<=n;l++)s.push(10*l+t+1);else if(e===n)for(let n=t;n<=l;n++)s.push(10*e+n+1);return s},a=(t,l)=>!l.some((l=>t.indexOf(l)>=0)),i=t=>{let l;l=0===Math.round(Math.random())?"vertical":"horizontal";let n=Math.floor(10*Math.random())+0,s=Math.floor(10*Math.random())+0;if("vertical"===l)for(;s+t.getLength()>9;)s=Math.floor(10*Math.random())+0;else if("horizontal"===l)for(;n+t.getLength()>9;)n=Math.floor(10*Math.random())+0;const a=e(t,n,s,l);return!1===a&&i(t),a};return{ships:l,board:t,addShip:e,receiveAttack:(e,n)=>{if(null===t[n][e])return t[n][e]="miss",{xAttack:e,yAttack:n,result:t[n][e]};if(null!==t[n][e]&&"miss"!==t[n][e]&&"hit"!==t[n][e]){const s=t[n][e];return t[n][e]="hit",l[s].hit(),{xAttack:e,yAttack:n,result:"hit"}}return{xAttack:e,yAttack:n,result:"invalid"}},allShipsSunk:()=>{for(let t=0;t<l.length;t++)if(!l[t].isSunk())return!1;return!0},getShipSpaces:n,addShipRandomly:i}},a=()=>{const t=(l,e,n,s=!1)=>{let a=e,i=n;!0===s&&(a=Math.floor(10*Math.random())+0,i=Math.floor(10*Math.random())+0);let o=l.receiveAttack(a,i);return"invalid"===o.result&&(o=t(l,e,n,s)),o};return{attack:t}}},181:(t,l,e)=>{e.d(l,{L:()=>s});var n=e(412);const s=()=>{const t=document.querySelector("body");for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);const l=(0,n.J5)(),e=(0,n.J5)();e.computer=!0;const s=(0,n.VL)(),a=(0,n.VL)(),i=[5,4,3,3,2];i.forEach(((t,l)=>{s.addShipRandomly((0,n.lO)(t)),a.addShipRandomly((0,n.lO)(t))}));const o=document.createElement("div");o.classList="player1 board grey",s.board.forEach(((t,l)=>{t.forEach(((t,e)=>{const n=document.createElement("div");n.setAttribute("id","P1-"+l+"-"+e),null===t?(n.textContent="",n.classList="space"):t>=0?(n.textContent=t,n.classList="space shipSpace"):"miss"===t?(n.textContent="X",n.classList="space miss"):(n.textContent="O",n.classList="space hit"),o.appendChild(n)}))}));const r=document.createElement("div");r.classList="player2 board",a.board.forEach(((n,i)=>{n.forEach(((n,c)=>{const d=document.createElement("div");d.classList="space enemy",d.setAttribute("id",c),d.addEventListener("click",(()=>{const n=l.attack(a,c,i);"miss"===n.result?(d.textContent="X",d.classList="space hit"):"hit"===n.result?(d.textContent="O",d.classList="space hit"):"invalid"===n.result&&alert("Move Invalid"),r.classList.toggle("grey"),o.classList.toggle("grey"),setTimeout((()=>{if(setTimeout((()=>{r.classList.toggle("grey"),o.classList.toggle("grey")}),1e3),a.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 1 wins!"}const l=e.attack(s,0,0,!0),n=document.querySelector(`#P1-${l.yAttack}-${l.xAttack}`);if("miss"===l.result?(n.textContent="X",n.classList="space miss"):"hit"===l.result?(n.textContent="O",n.classList="space hit"):"invalid"===l.result&&alert("Move Invalid"),s.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}}),2e3)})),r.appendChild(d)}))}));const c=document.createElement("div");c.classList="ship-tracker",c.setAttribute("id","one");const d=document.createElement("div");d.classList="ship-tracker",d.setAttribute("id","two"),i.forEach(((t,l)=>{const e=document.createElement("div");e.classList="ship",e.setAttribute("id","ship-"+t);const n=document.createElement("div");n.classList="ship",n.setAttribute("id","ship-"+t);for(let l=0;l<t;l++){const t=document.createElement("div");t.classList="space";const l=document.createElement("div");l.classList="space",e.appendChild(t),n.appendChild(l)}c.appendChild(e),d.appendChild(n)}));const u=document.createElement("div");u.classList="gameboard-one";const h=document.createElement("div");h.classList="gameboard-two";const p=document.createElement("div");p.classList="gameboards",u.appendChild(c),u.appendChild(o),h.appendChild(r),h.appendChild(d),p.appendChild(u),p.appendChild(h),t.appendChild(p)}}},n={};function s(t){var l=n[t];if(void 0!==l)return l.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,s),a.exports}s.d=(t,l)=>{for(var e in l)s.o(l,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:l[e]})},s.o=(t,l)=>Object.prototype.hasOwnProperty.call(t,l),t=s(181),l=s(412),document.querySelector("#start.computer").addEventListener("click",(()=>{(0,t.L)()})),document.querySelector("#start.friend").addEventListener("click",(()=>{(()=>{const t=document.querySelector("body");for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);const e=(0,l.J5)(),n=(0,l.J5)();n.computer=!0;const s=(0,l.VL)(),a=(0,l.VL)();[5,4,3,3,2].forEach(((t,e)=>{s.addShipRandomly((0,l.lO)(t)),a.addShipRandomly((0,l.lO)(t))}));const i=document.createElement("div");i.classList="board-mask invisible",i.textContent="Click here for next player's turn.",i.addEventListener("click",(()=>{if(i.classList.toggle("invisible"),o.classList.toggle("enemy"),r.classList.toggle("enemy"),o.classList.toggle("invisible"),r.classList.toggle("invisible"),s.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}if(a.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}}));const o=document.createElement("div");o.classList="player1 board enemy",s.board.forEach(((t,l)=>{t.forEach(((t,n)=>{const s=document.createElement("div");s.classList="space",s.setAttribute("id","P1-"+l+"-"+n),s.addEventListener("click",(()=>{o.classList.toggle("no-events"),r.classList.toggle("no-events");const t=e.attack(a,n,l);"miss"===t.result?(s.textContent="X",s.classList="space hit"):"hit"===t.result?(s.textContent="O",s.classList="space hit"):"invalid"===t.result&&alert("Move Invalid")})),o.appendChild(s)}))}));const r=document.createElement("div");r.classList="player2 board invisible no-events",a.board.forEach(((t,l)=>{t.forEach(((t,e)=>{const a=document.createElement("div");a.classList="space",a.setAttribute("id",e),a.addEventListener("click",(()=>{o.classList.toggle("no-events"),r.classList.toggle("no-events");const t=n.attack(s,e,l);"miss"===t.result?(a.textContent="X",a.classList="space hit"):"hit"===t.result?(a.textContent="O",a.classList="space hit"):"invalid"===t.result&&alert("Move Invalid")})),r.appendChild(a)}))})),t.appendChild(i),t.appendChild(o),t.appendChild(r)})()}))})();