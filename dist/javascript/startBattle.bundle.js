(()=>{"use strict";var l,t,e={412:(l,t,e)=>{e.d(t,{J5:()=>a,VL:()=>s,lO:()=>n});const n=l=>{const t=l;let e=0,n=[0,0],s=[0,l-1];return{getStartCoord:()=>n,getEndCoord:()=>s,getLength:()=>t,getHits:()=>e,hit:()=>{e+=1},isSunk:()=>e===t,setCoord:(l,e,a)=>(n[0]=l,n[1]=e,"horizontal"===a?(s[0]=l+t-1,s[1]=e):(s[0]=l,s[1]=e+t-1),[n,s])}},s=()=>{let l=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],t=[];const e=(e,i,o,r)=>{e.setCoord(i,o,r);const u=e.getStartCoord()[0],c=e.getStartCoord()[1],d=e.getEndCoord()[0],h=e.getEndCoord()[1];let m,p;const C=s(u,d,c,h),v=n();if(a(C,v)){if(p=t.push(e)-1,"horizontal"===r)for(m=u;m<=d;m++)l[c][m]=p;else if("vertical"===r)for(m=c;m<=h;m++)l[m][u]=p;return l}return!1},n=()=>{let t=[],e=0;for(let n=0;n<10;n++)for(let s=0;s<10;s++)e++,null!==l[n][s]&&t.push(e);return t},s=(l,t,e,n)=>{let s=[];if(l===t)for(let t=e;t<=n;t++)s.push(10*t+l+1);else if(e===n)for(let n=l;n<=t;n++)s.push(10*e+n+1);return s},a=(l,t)=>!t.some((t=>l.indexOf(t)>=0)),i=l=>{let t;t=0===Math.round(Math.random())?"vertical":"horizontal";let n=Math.floor(10*Math.random())+0,s=Math.floor(10*Math.random())+0;if("vertical"===t)for(;s+l.getLength()>9;)s=Math.floor(10*Math.random())+0;else if("horizontal"===t)for(;n+l.getLength()>9;)n=Math.floor(10*Math.random())+0;const a=e(l,n,s,t);return!1===a&&i(l),a};return{ships:t,board:l,addShip:e,receiveAttack:(e,n)=>{if(null===l[n][e])return l[n][e]="miss",{xAttack:e,yAttack:n,result:l[n][e]};if(null!==l[n][e]&&"miss"!==l[n][e]&&"hit"!==l[n][e]){const s=l[n][e];return l[n][e]="hit",t[s].hit(),{xAttack:e,yAttack:n,result:"hit"}}return{xAttack:e,yAttack:n,result:"invalid"}},allShipsSunk:()=>{for(let l=0;l<t.length;l++)if(!t[l].isSunk())return!1;return!0},getShipSpaces:n,addShipRandomly:i}},a=()=>{const l=(t,e,n,s=!1)=>{let a=e,i=n;!0===s&&(a=Math.floor(10*Math.random())+0,i=Math.floor(10*Math.random())+0);let o=t.receiveAttack(a,i);return"invalid"===o.result&&(o=l(t,e,n,s)),o};return{attack:l}}},181:(l,t,e)=>{e.d(t,{L:()=>s});var n=e(412);const s=()=>{const l=document.querySelector("body");for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);const t=(0,n.J5)(),e=(0,n.J5)();e.computer=!0;const s=(0,n.VL)(),a=(0,n.VL)();[5,4,3,3,2].forEach(((l,t)=>{s.addShipRandomly((0,n.lO)(l)),a.addShipRandomly((0,n.lO)(l))}));const i=document.createElement("div");i.classList="player1 board grey",s.board.forEach(((l,t)=>{l.forEach(((l,e)=>{const n=document.createElement("div");n.setAttribute("id","P1-"+t+"-"+e),null===l?(n.textContent="",n.classList="space"):l>=0?(n.textContent=l,n.classList="space ship"):"miss"===l?(n.textContent="X",n.classList="space miss"):(n.textContent="O",n.classList="space hit"),i.appendChild(n)}))}));const o=document.createElement("div");o.classList="player2 board",a.board.forEach(((n,r)=>{n.forEach(((n,u)=>{const c=document.createElement("div");c.classList="space enemy",c.setAttribute("id",u),c.addEventListener("click",(()=>{const n=t.attack(a,u,r);"miss"===n.result?(c.textContent="X",c.classList="space hit"):"hit"===n.result?(c.textContent="O",c.classList="space hit"):"invalid"===n.result&&alert("Move Invalid"),o.classList.toggle("grey"),i.classList.toggle("grey"),setTimeout((()=>{if(setTimeout((()=>{o.classList.toggle("grey"),i.classList.toggle("grey")}),1e3),a.allShipsSunk()){for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);l.lastChild.textContent="Player 1 wins!"}const t=e.attack(s,0,0,!0),n=document.querySelector(`#P1-${t.yAttack}-${t.xAttack}`);if("miss"===t.result?(n.textContent="X",n.classList="space miss"):"hit"===t.result?(n.textContent="O",n.classList="space hit"):"invalid"===t.result&&alert("Move Invalid"),s.allShipsSunk()){for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);l.lastChild.textContent="Player 2 wins!"}}),2e3)})),o.appendChild(c)}))})),l.appendChild(i),l.appendChild(o)}}},n={};function s(l){var t=n[l];if(void 0!==t)return t.exports;var a=n[l]={exports:{}};return e[l](a,a.exports,s),a.exports}s.d=(l,t)=>{for(var e in t)s.o(t,e)&&!s.o(l,e)&&Object.defineProperty(l,e,{enumerable:!0,get:t[e]})},s.o=(l,t)=>Object.prototype.hasOwnProperty.call(l,t),l=s(181),t=s(412),document.querySelector("#start.computer").addEventListener("click",(()=>{(0,l.L)()})),document.querySelector("#start.friend").addEventListener("click",(()=>{(()=>{const l=document.querySelector("body");for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);const e=(0,t.J5)(),n=(0,t.J5)();n.computer=!0;const s=(0,t.VL)(),a=(0,t.VL)();[5,4,3,3,2].forEach(((l,e)=>{s.addShipRandomly((0,t.lO)(l)),a.addShipRandomly((0,t.lO)(l))}));const i=document.createElement("div");i.classList="board-mask invisible",i.textContent="Click here for next player's turn.",i.addEventListener("click",(()=>{if(i.classList.toggle("invisible"),o.classList.toggle("enemy"),r.classList.toggle("enemy"),o.classList.toggle("invisible"),r.classList.toggle("invisible"),s.allShipsSunk()){for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);l.lastChild.textContent="Player 2 wins!"}if(a.allShipsSunk()){for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);l.lastChild.textContent="Player 2 wins!"}}));const o=document.createElement("div");o.classList="player1 board enemy",s.board.forEach(((l,t)=>{l.forEach(((l,n)=>{const s=document.createElement("div");s.classList="space",s.setAttribute("id","P1-"+t+"-"+n),s.addEventListener("click",(()=>{o.classList.toggle("no-events"),r.classList.toggle("no-events");const l=e.attack(a,n,t);"miss"===l.result?(s.textContent="X",s.classList="space hit"):"hit"===l.result?(s.textContent="O",s.classList="space hit"):"invalid"===l.result&&alert("Move Invalid")})),o.appendChild(s)}))}));const r=document.createElement("div");r.classList="player2 board invisible no-events",a.board.forEach(((l,t)=>{l.forEach(((l,e)=>{const a=document.createElement("div");a.classList="space",a.setAttribute("id",e),a.addEventListener("click",(()=>{o.classList.toggle("no-events"),r.classList.toggle("no-events");const l=n.attack(s,e,t);"miss"===l.result?(a.textContent="X",a.classList="space hit"):"hit"===l.result?(a.textContent="O",a.classList="space hit"):"invalid"===l.result&&alert("Move Invalid")})),r.appendChild(a)}))})),l.appendChild(i),l.appendChild(o),l.appendChild(r)})()}))})();