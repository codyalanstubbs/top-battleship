(()=>{"use strict";var l,t={412:(l,t,n)=>{n.d(t,{J5:()=>r,VL:()=>u,lO:()=>e});const e=l=>{const t=l;let n=0,e=[0,0],u=[0,l-1];return{getStartCoord:()=>e,getEndCoord:()=>u,getLength:()=>t,getHits:()=>n,hit:()=>{n+=1},isSunk:()=>n===t,setCoord:(l,n,r)=>(e[0]=l,e[1]=n,"horizontal"===r?(u[0]=l+t-1,u[1]=n):(u[0]=l,u[1]=n+t-1),[e,u])}},u=()=>{let l=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],t=[];const n=(n,s,a,o)=>{n.setCoord(s,a,o);const i=n.getStartCoord()[0],c=n.getStartCoord()[1],d=n.getEndCoord()[0],h=n.getEndCoord()[1];let p,m;const f=u(i,d,c,h),C=e();if(r(f,C)){if(m=t.push(n)-1,"horizontal"===o)for(p=i;p<=d;p++)l[c][p]=m;else if("vertical"===o)for(p=c;p<=h;p++)l[p][i]=m;return l}return!1},e=()=>{let t=[],n=0;for(let e=0;e<10;e++)for(let u=0;u<10;u++)n++,null!==l[e][u]&&t.push(n);return t},u=(l,t,n,e)=>{let u=[];if(l===t)for(let t=n;t<=e;t++)u.push(10*t+l+1);else if(n===e)for(let e=l;e<=t;e++)u.push(10*n+e+1);return u},r=(l,t)=>!t.some((t=>l.indexOf(t)>=0)),s=l=>{let t;t=0===Math.round(Math.random())?"vertical":"horizontal";let e=Math.floor(10*Math.random())+0,u=Math.floor(10*Math.random())+0;if("vertical"===t)for(;u+l.getLength()>9;)u=Math.floor(10*Math.random())+0;else if("horizontal"===t)for(;e+l.getLength()>9;)e=Math.floor(10*Math.random())+0;const r=n(l,e,u,t);return!1===r&&s(l),r};return{ships:t,board:l,addShip:n,receiveAttack:(n,e)=>{if(null===l[e][n])return l[e][n]="miss",{xAttack:n,yAttack:e,result:l[e][n]};if(null!==l[e][n]&&"miss"!==l[e][n]&&"hit"!==l[e][n]){const u=l[e][n];return l[e][n]="hit",t[u].hit(),{xAttack:n,yAttack:e,result:"hit"}}return{xAttack:n,yAttack:e,result:"invalid"}},allShipsSunk:()=>{for(let l=0;l<t.length;l++)if(!t[l].isSunk())return!1;return!0},getShipSpaces:e,addShipRandomly:s}},r=()=>{const l=(t,n,e,u=!1)=>{let r=n,s=e;!0===u&&(r=Math.floor(10*Math.random())+0,s=Math.floor(10*Math.random())+0);let a=t.receiveAttack(r,s);return"invalid"===a.result&&(a=l(t,n,e,u)),a};return{attack:l}}},181:(l,t,n)=>{n.d(t,{L:()=>u});var e=n(412);const u=()=>{const l=document.querySelector("body");for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);const t=(0,e.J5)(),n=(0,e.J5)();n.computer=!0;const u=(0,e.VL)(),r=(0,e.VL)();[5,4,3,3,2].forEach(((l,t)=>{u.addShipRandomly((0,e.lO)(l)),r.addShipRandomly((0,e.lO)(l))}));const s=document.createElement("div");s.classList="player1 board grey",u.board.forEach(((l,t)=>{l.forEach(((l,n)=>{const e=document.createElement("div");e.setAttribute("id","P1-"+t+"-"+n),null===l?(e.textContent="",e.classList="space"):l>=0?(e.textContent=l,e.classList="space ship"):"miss"===l?(e.textContent="X",e.classList="space miss"):(e.textContent="O",e.classList="space hit"),s.appendChild(e)}))}));const a=document.createElement("div");a.classList="player2 board",r.board.forEach(((e,o)=>{e.forEach(((e,i)=>{const c=document.createElement("div");c.classList="space enemy",c.setAttribute("id",i),c.addEventListener("click",(()=>{const e=t.attack(r,i,o);"miss"===e.result?(c.textContent="X",c.classList="space hit"):"hit"===e.result?(c.textContent="O",c.classList="space hit"):"invalid"===e.result&&alert("Move Invalid"),a.classList.toggle("grey"),s.classList.toggle("grey"),setTimeout((()=>{if(setTimeout((()=>{a.classList.toggle("grey"),s.classList.toggle("grey")}),1e3),r.allShipsSunk()){for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);l.lastChild.textContent="Player 1 wins!"}const t=n.attack(u,0,0,!0),e=document.querySelector(`#P1-${t.yAttack}-${t.xAttack}`);if("miss"===t.result?(e.textContent="X",e.classList="space miss"):"hit"===t.result?(e.textContent="O",e.classList="space hit"):"invalid"===t.result&&alert("Move Invalid"),u.allShipsSunk()){for(;l.lastChild&&"H1"!==l.lastChild.tagName;)l.removeChild(l.lastChild);l.lastChild.textContent="Player 2 wins!"}}),2e3)})),a.appendChild(c)}))})),l.appendChild(s),l.appendChild(a)}}},n={};function e(l){var u=n[l];if(void 0!==u)return u.exports;var r=n[l]={exports:{}};return t[l](r,r.exports,e),r.exports}e.d=(l,t)=>{for(var n in t)e.o(t,n)&&!e.o(l,n)&&Object.defineProperty(l,n,{enumerable:!0,get:t[n]})},e.o=(l,t)=>Object.prototype.hasOwnProperty.call(l,t),l=e(181),document.querySelector("#start.computer").addEventListener("click",(()=>{(0,l.L)()})),document.querySelector("#start.friend").addEventListener("click",(()=>{alert("Not yet!")}))})();