(()=>{"use strict";var t,e,l={412:(t,e,l)=>{l.d(e,{J5:()=>a,VL:()=>s,lO:()=>n});const n=t=>{const e=t;let l=0,n=[0,0],s=[0,t-1];return{getStartCoord:()=>n,getEndCoord:()=>s,getLength:()=>e,getHits:()=>l,hit:()=>{l+=1},isSunk:()=>l===e,setCoord:(t,l,a)=>(n[0]=t,n[1]=l,"horizontal"===a?(s[0]=t+e-1,s[1]=l):(s[0]=t,s[1]=l+e-1),[n,s])}},s=()=>{let t=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]],e=[];const l=(l,i,o,c)=>{l.setCoord(i,o,c);const d=l.getStartCoord()[0],r=l.getStartCoord()[1],u=l.getEndCoord()[0],h=l.getEndCoord()[1];let p,m;const C=s(d,u,r,h),v=n();if(a(C,v)){if(m=e.push(l)-1,"horizontal"===c)for(p=d;p<=u;p++)t[r][p]=m;else if("vertical"===c)for(p=r;p<=h;p++)t[p][d]=m;return t}return!1},n=()=>{let e=[],l=0;for(let n=0;n<10;n++)for(let s=0;s<10;s++)l++,null!==t[n][s]&&e.push(l);return e},s=(t,e,l,n)=>{let s=[];if(t===e)for(let e=l;e<=n;e++)s.push(10*e+t+1);else if(l===n)for(let n=t;n<=e;n++)s.push(10*l+n+1);return s},a=(t,e)=>!e.some((e=>t.indexOf(e)>=0)),i=t=>{let e;e=0===Math.round(Math.random())?"vertical":"horizontal";let n=Math.floor(10*Math.random())+0,s=Math.floor(10*Math.random())+0;if("vertical"===e)for(;s+t.getLength()>9;)s=Math.floor(10*Math.random())+0;else if("horizontal"===e)for(;n+t.getLength()>9;)n=Math.floor(10*Math.random())+0;const a=l(t,n,s,e);return!1===a&&i(t),a};return{ships:e,board:t,addShip:l,receiveAttack:(l,n)=>{if(null===t[n][l])return t[n][l]="miss",{xAttack:l,yAttack:n,result:t[n][l]};if(null!==t[n][l]&&"miss"!==t[n][l]&&"hit"!==t[n][l]){const s=t[n][l];return t[n][l]="hit",e[s].hit(),{xAttack:l,yAttack:n,result:"hit"}}return{xAttack:l,yAttack:n,result:"invalid"}},allShipsSunk:()=>{for(let t=0;t<e.length;t++)if(!e[t].isSunk())return!1;return!0},getShipSpaces:n,addShipRandomly:i}},a=()=>{const t=(e,l,n,s=!1)=>{let a=l,i=n;!0===s&&(a=Math.floor(10*Math.random())+0,i=Math.floor(10*Math.random())+0);let o=e.receiveAttack(a,i);return"invalid"===o.result&&(o=t(e,l,n,s)),o};return{attack:t}}},181:(t,e,l)=>{l.d(e,{L:()=>s});var n=l(412);const s=()=>{const t=document.querySelector("body");for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);const e=(0,n.J5)(),l=(0,n.J5)();l.computer=!0;const s=(0,n.VL)(),a=(0,n.VL)(),i=[5,4,3,3,2];i.forEach(((t,e)=>{s.addShipRandomly((0,n.lO)(t)),a.addShipRandomly((0,n.lO)(t))}));const o=document.createElement("div");o.classList="player1 board grey";const c=document.createElement("div");c.classList="player1 spaces",s.board.forEach(((t,e)=>{t.forEach(((t,l)=>{const n=document.createElement("div");n.setAttribute("id","P1-"+e+"-"+l),null===t?(n.textContent="",n.classList="space"):t>=0?(n.textContent=t,n.classList="space shipSpace"):"miss"===t?(n.textContent="X",n.classList="space miss"):(n.textContent="O",n.classList="space hit"),c.appendChild(n)}))}));const d=document.createElement("h3");d.textContent="You",o.appendChild(d),o.appendChild(c);const r=document.createElement("div");r.classList="player2 board";const u=document.createElement("div");u.classList="player2 spaces",a.board.forEach(((n,i)=>{n.forEach(((n,c)=>{const d=document.createElement("div");d.classList="space enemy",d.setAttribute("id",c),d.addEventListener("click",(()=>{const n=e.attack(a,c,i);"miss"===n.result?(d.textContent="X",d.classList="space hit"):"hit"===n.result?(d.textContent="O",d.classList="space hit"):"invalid"===n.result&&alert("Move Invalid"),r.classList.toggle("grey"),o.classList.toggle("grey"),setTimeout((()=>{if(setTimeout((()=>{r.classList.toggle("grey"),o.classList.toggle("grey")}),1e3),a.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 1 wins!"}const e=l.attack(s,0,0,!0),n=document.querySelector(`#P1-${e.yAttack}-${e.xAttack}`);if("miss"===e.result?(n.textContent="X",n.classList="space miss"):"hit"===e.result?(n.textContent="O",n.classList="space hit"):"invalid"===e.result&&alert("Move Invalid"),s.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}}),2e3)})),u.appendChild(d)}))}));const h=document.createElement("h3");h.textContent="Computer",r.appendChild(h),r.appendChild(u);const p=document.createElement("div");p.classList="ship-tracker",p.setAttribute("id","one");const m=document.createElement("div");m.classList="ship-tracker",m.setAttribute("id","two"),i.forEach(((t,e)=>{const l=document.createElement("div");l.classList="ship",l.setAttribute("id","ship-"+t);const n=document.createElement("div");n.classList="ship",n.setAttribute("id","ship-"+t);for(let e=0;e<t;e++){const t=document.createElement("div");t.classList="space";const e=document.createElement("div");e.classList="space",l.appendChild(t),n.appendChild(e)}p.appendChild(l),m.appendChild(n)}));const C=document.createElement("div");C.classList="gameboard-one";const v=document.createElement("div");v.classList="gameboard-two";const L=document.createElement("div");L.classList="gameboards",C.appendChild(p),C.appendChild(o),v.appendChild(r),v.appendChild(m),L.appendChild(C),L.appendChild(v),t.appendChild(L)}}},n={};function s(t){var e=n[t];if(void 0!==e)return e.exports;var a=n[t]={exports:{}};return l[t](a,a.exports,s),a.exports}s.d=(t,e)=>{for(var l in e)s.o(e,l)&&!s.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t=s(181),e=s(412),document.querySelector("#start.computer").addEventListener("click",(()=>{(0,t.L)()})),document.querySelector("#start.friend").addEventListener("click",(()=>{(()=>{const t=document.querySelector("body");for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);const l=(0,e.J5)(),n=(0,e.J5)();n.computer=!0;const s=(0,e.VL)(),a=(0,e.VL)(),i=[5,4,3,3,2];i.forEach(((t,l)=>{s.addShipRandomly((0,e.lO)(t)),a.addShipRandomly((0,e.lO)(t))}));const o=document.createElement("div");o.classList="next-turn invisible",o.textContent="CHANGE TURN",o.addEventListener("click",(()=>{if(o.classList.toggle("invisible"),c.classList.toggle("enemy"),u.classList.toggle("enemy"),c.classList.toggle("invisible"),u.classList.toggle("invisible"),s.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}if(a.allShipsSunk()){for(;t.lastChild&&"H1"!==t.lastChild.tagName;)t.removeChild(t.lastChild);t.lastChild.textContent="Player 2 wins!"}}));const c=document.createElement("div");c.classList="player1 board enemy";const d=document.createElement("div");d.classList="player1 spaces",s.board.forEach(((t,e)=>{t.forEach(((t,n)=>{const s=document.createElement("div");s.classList="space",s.setAttribute("id","P1-"+e+"-"+n),s.addEventListener("click",(()=>{o.classList.toggle("invisible"),c.classList.toggle("no-events"),u.classList.toggle("no-events");const t=l.attack(a,n,e);"miss"===t.result?(s.textContent="X",s.classList="space hit"):"hit"===t.result?(s.textContent="O",s.classList="space hit"):"invalid"===t.result&&alert("Move Invalid")})),d.appendChild(s)}))}));const r=document.createElement("h3");r.textContent="Player 1",c.appendChild(r),c.appendChild(d);const u=document.createElement("div");u.classList="player2 board invisible no-events";const h=document.createElement("div");h.classList="player2 spaces",a.board.forEach(((t,e)=>{t.forEach(((t,l)=>{const a=document.createElement("div");a.classList="space",a.setAttribute("id",l),a.addEventListener("click",(()=>{o.classList.toggle("invisible"),c.classList.toggle("no-events"),u.classList.toggle("no-events");const t=n.attack(s,l,e);"miss"===t.result?(a.textContent="X",a.classList="space hit"):"hit"===t.result?(a.textContent="O",a.classList="space hit"):"invalid"===t.result&&alert("Move Invalid")})),h.appendChild(a)}))}));const p=document.createElement("h3");p.textContent="Player 2",u.appendChild(p),u.appendChild(h);const m=document.createElement("div");m.classList="ship-tracker",m.setAttribute("id","one");const C=document.createElement("div");C.classList="ship-tracker",C.setAttribute("id","two"),i.forEach(((t,e)=>{const l=document.createElement("div");l.classList="ship",l.setAttribute("id","ship-"+t);const n=document.createElement("div");n.classList="ship",n.setAttribute("id","ship-"+t);for(let e=0;e<t;e++){const t=document.createElement("div");t.classList="space";const e=document.createElement("div");e.classList="space",l.appendChild(t),n.appendChild(e)}m.appendChild(l),C.appendChild(n)}));const v=document.createElement("div");v.classList="gameboard-one";const L=document.createElement("div");L.classList="gameboard-two";const g=document.createElement("div");g.classList="gameboards",v.appendChild(m),v.appendChild(c),L.appendChild(u),L.appendChild(C),g.appendChild(v),g.appendChild(L),t.appendChild(o),t.appendChild(g)})()}))})();